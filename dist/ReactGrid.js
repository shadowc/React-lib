!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t){e.exports=React},function(e,t){e.exports=jQuery},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=PropTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=u(r(0)),s=u(r(1)),o=u(r(3)),i=u(r(5)),l=u(r(6));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=r.props.columns.map(function(e){return new l.default(e)}),n=r.props.initialData.map(function(e){return new i.default(e)});return r.state={rawData:r.props.initialData,columns:a,rows:n,prevSelectedRow:-1,orderBy:r.props.orderBy,orderReverse:r.props.orderReverse,loading:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"sortRows",value:function(){var e=this.props.sortings[this.state.orderBy];"function"==typeof e&&this.state.rows.sort(e),this.state.orderReverse&&this.state.rows.reverse()}},{key:"render",value:function(){return this.sortRows(),n.default.createElement("div",{className:"table-wrapper",id:this.props.id},n.default.createElement("table",{className:"table-header"},n.default.createElement("thead",null,n.default.createElement("tr",null,this.state.columns.map(this.renderColumn.bind(this))))),n.default.createElement("table",{className:"table-body"},n.default.createElement("tbody",null,this.state.loading?n.default.createElement("tr",null,n.default.createElement("td",{colSpan:this.state.columns.length},n.default.createElement("span",{className:"icon loading"},"Â "))):this.state.rows.map(this.renderRow.bind(this)))))}},{key:"renderColumn",value:function(e){var t={width:e.width};return n.default.createElement("th",{key:e.name,className:e.className,style:t,onClick:this.generateHeaderClick.bind(this,e)},e.displayName)}},{key:"renderRow",value:function(e){var t=e.className+" "+(e.selected?"selected":""),r={display:e.show?"table-row":"none"};return n.default.createElement("tr",{key:e.id,id:e.id,className:t,style:r},this.state.columns.map(this.renderCell.bind(this,e)))}},{key:"renderCell",value:function(e,t){var r={width:t.width};return n.default.createElement("td",{key:e.id+" "+t.name,style:r,onClick:this.generateCellClick.bind(this,e,t.name)},"function"==typeof t.format?t.format.call(this,e.data[t.name],e):e.data[t.name])}},{key:"generateHeaderClick",value:function(e,t){t.preventDefault(),t.stopPropagation();var r=new CustomEvent("HeaderClick",{detail:e}),a=document.getElementById(this.props.id);return a&&a.dispatchEvent(r),this.props.onColumnHeaderClick&&this.props.onColumnHeaderClick(e),!1}},{key:"getRowNdx",value:function(e){for(var t=0;t<this.state.rows.length;t++)if(this.state.rows[t].id===e.id)return t;return-1}},{key:"generateCellClick",value:function(e,t,r){var a=this;r.preventDefault(),r.stopPropagation();var n,s,o=this.getRowNdx(e),i=!1,l=function(e){if(a.state.prevSelectedRow>-1)for(var t=Math.min(o,a.state.prevSelectedRow),r=Math.max(o,a.state.prevSelectedRow),n=t;n<=r;n++)e.selected=!0};if(-1!==o){this.props.selectable&&(r.shiftKey||r.ctrlKey?r.shiftKey?function(e){a.state.rows.forEach(function(e){e.selected=!1}),l(e)}(e):r.ctrlKey?(e.selected=!e.selected,i=!0):r.shiftKey&&r.ctrlKey&&l(e):(s=!(n=e).selected,a.state.rows.forEach(function(e){e.selected=!1}),n.selected=s,i=!0)),this.setState({prevSelectedRow:i?o:this.state.prevSelectedRow,rows:this.state.rows});var u=new CustomEvent("CellClick",{detail:{row:e,cell:t}}),c=document.getElementById(this.props.id);c&&c.dispatchEvent(u),this.props.onCellClick&&this.props.onCellClick(e,t)}return!1}},{key:"addRows",value:function(e,t){e.length||(e=[e]),t||(t=this.state.rows.length);var r=e.map(function(e){return new i.default(e)}),a=e.map(function(e){return s.default.extend(!0,{},e)}),n=[].concat(c(this.state.rows.slice(0,t)),c(r),c(this.state.rows.slice(t))),o=[].concat(c(this.state.rawData.slice(0,t)),c(a),c(this.state.rawData.slice(t)));this.setState({rows:n,rawData:o})}},{key:"setRows",value:function(e){e.length||(e=[e]);var t=e.map(function(e){return new i.default(e)}),r=e.map(function(e){return s.default.extend(!0,{},e)});this.setState({rows:t,rawData:r})}},{key:"deleteRows",value:function(e,t){t||(t=1);var r=[].concat(c(this.state.rows.slice(0,e)),c(this.state.rows.slice(e+t))),a=[].concat(c(this.state.rawData.slice(0,e)),c(this.state.rawData.slice(e+t)));this.setState({rows:r,rawData:a})}},{key:"sortBy",value:function(e){this.setState(e)}},{key:"getSort",value:function(){return{orderBy:this.state.orderBy,orderReverse:this.state.orderReverse}}},{key:"getRow",value:function(e){return e<0||e>=this.state.rows.length?null:new i.default(this.state.rows[e])}},{key:"getSelectedRows",value:function(){for(var e=[],t=0;t<this.state.rows.length;t++)this.state.rows[t].selected&&e.push(new i.default(this.state.rows[t]));return e}},{key:"getSelectedRowIds",value:function(){for(var e=[],t=0;t<this.state.rows.length;t++)this.state.rows[t].selected&&e.push(this.state.rows[t].id.toString());return e}},{key:"getColumns",value:function(){return this.state.columns}},{key:"setColumns",value:function(e){this.setState({columns:e.map(function(e){return new l.default(e)})})}},{key:"getById",value:function(e){for(var t=0;t<this.state.rows.length;t++){var r=this.state.rows[t];if(r.id===e)return new i.default(r)}return null}},{key:"deleteById",value:function(e){for(var t=0;t<this.state.rows.length;t++)if(this.state.rows[t].id===e)return void this.deleteRows(t)}},{key:"updateRow",value:function(e,t){for(var r=0;r<this.state.rows.length;r++){var a=this.state.rows[r];if(a.id===e)return a=new i.default(s.default.extend(!0,{},a.data,t)),s.default.extend(!0,a.data,t),void this.setState({rows:this.state.rows,rawData:this.state.rawData})}}},{key:"updateCell",value:function(e,t,r){for(var a=0;a<this.state.rows.length;a++){var n=this.state.rows[a],s=this.state.rawData[a];if(n.id===e)return n.data[t]=r,s[t]=r,void this.setState({rows:this.state.rows,rawData:this.state.rawData})}}},{key:"clear",value:function(){this.setState({rows:[],rawData:[]})}},{key:"setLoading",value:function(e){this.setState({loading:e})}}]),t}();t.default=d,d.propTypes={id:o.default.string,columns:o.default.arrayOf(o.default.instanceOf(l.default)),initialData:o.default.arrayOf(o.default.shape({id:o.default.string,data:o.default.object.isRequired,className:o.default.string})),selectable:o.default.bool,orderBy:o.default.string,orderReverse:o.default.bool,sortings:o.default.objectOf(o.default.func),onColumnHeaderClick:o.default.func,onCellClick:o.default.func},d.defaultProps={id:"grid",columns:[],orderBy:"",selectable:!0,orderReverse:!1,sortings:{},initialData:[],onColumnHeaderClick:null,onCellClick:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(1),s=(a=n)&&a.__esModule?a:{default:a};var o=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof e&&(t=t.data),this.id=t.id?t.id:e.getNextRowId(),this.data=s.default.extend(!0,{},t),this.className=t.className?t.className:"",this.selected=!1,this.show=!0};t.default=o,o.getNextRowId=function(){return"'row_"+o.nextRowId++},o.nextRowId=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r;this.name=t.name,this.displayName=t.displayName?t.displayName:this.name,this.width="number"==typeof(r=t.width)?r+"px":/^(\d)+[px|%]$/.test(r.toString())?r.toString():"",this.className=t.className?t.className:"",this.format=t.format,this.sortable=t.sortable}},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=l(r(0)),o=l(r(2)),i=l(r(4));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid=null,this.id=t.id,this.gridProps=t}return n(e,[{key:"render",value:function(e){this.grid=o.default.render(s.default.createElement(i.default,a({},this.gridProps)),e)}},{key:"addRows",value:function(e,t){this.grid.addRows(e,t)}},{key:"setRows",value:function(e){this.grid.setRows(e)}},{key:"deleteRows",value:function(e,t){this.grid.deleteRows(e,t)}},{key:"sortBy",value:function(e){this.grid.sortBy(e)}},{key:"getSort",value:function(){return this.grid.getSort()}},{key:"getRow",value:function(e){return this.grid.getRow(e)}},{key:"getSelectedRows",value:function(){return this.grid.getSelectedRows()}},{key:"getSelectedRowIds",value:function(){return this.grid.getSelectedRowIds()}},{key:"getColumns",value:function(){return this.grid.getColumns()}},{key:"setColumns",value:function(e){return this.grid.setColumns(e)}},{key:"getById",value:function(e){return this.grid.getById(e)}},{key:"deleteById",value:function(e){this.grid.deleteById(e)}},{key:"updateRow",value:function(e,t){this.grid.updateRow(e,t)}},{key:"updateCell",value:function(e,t,r){this.grid.updateCell(e,t,r)}},{key:"clear",value:function(){this.grid.clear()}},{key:"setLoading",value:function(e){this.grid.setLoading(e)}}]),e}();t.default=u}]);